<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Simulador - Lei do Bem (Lucro Real) | Specialità</title>

<style>
:root{
  --bg0:#070b14;
  --bg1:#0a1020;
  --border:rgba(255,255,255,.08);
  --text:rgba(255,255,255,.92);
  --title:rgba(255,255,255,.95);
  --radius:18px;
  --radius2:14px;
  --focus: rgba(125, 211, 252, .45);
  --ok:#22c55e;
  --warn:#f59e0b;
  --bad:#ef4444;
}

*{box-sizing:border-box}

html, body{
  margin:0;
  padding:0;
  min-height:100%;
  height:auto;
  overflow-y:auto;
}

body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Helvetica, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 25% 10%, rgba(56,189,248,.18), transparent 55%),
    radial-gradient(900px 600px at 80% 20%, rgba(99,102,241,.14), transparent 55%),
    linear-gradient(135deg, #0a0f1e, #0f1b2d);
  padding:34px 18px 56px;
}

.wrap{max-width:900px;margin:0 auto;}

h1{font-size:28px;margin:0;color:var(--title)}
.sub{color:rgba(255,255,255,.7)}

.panel{
  background:rgba(255,255,255,.03);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:18px;
  margin-top:18px;
}

label{font-size:12px;color:#ccc;display:block;margin-top:12px}
input,select{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid #333;
  background:#0a0f1e;
  color:white;
}

button{
  padding:10px 14px;
  border-radius:10px;
  border:1px solid #444;
  background:#1e293b;
  color:white;
  cursor:pointer;
  margin-top:14px;
}

.card{
  background:#0b1220;
  border-radius:14px;
  padding:14px;
  margin-bottom:12px;
}

.v{font-size:22px;font-weight:800}
</style>
</head>

<body>
<div class="wrap">

<h1>Simulador - Lei do Bem (Lucro Real)</h1>
<p class="sub">Estimativa de exclusão adicional e economia fiscal (IRPJ + CSLL)</p>

<div class="panel">
  <label>Dispêndios totais elegíveis (R$)</label>
  <input id="dispTotal" placeholder="1500000">

  <label>Dispêndios com patente / cultivar (R$)</label>
  <input id="dispPatente" placeholder="400000">

  <label>Variação de pesquisadores em P&D</label>
  <select id="variacao">
    <option value="0">Sem aumento (60%)</option>
    <option value="1">Aumento moderado (70%)</option>
    <option value="2">Aumento relevante (80%)</option>
  </select>

  <label>Alíquota IRPJ + CSLL (%)</label>
  <input id="aliquota" value="34">

  <button onclick="calcular()">Calcular</button>
</div>

<div class="panel">
  <div class="card">
    <div>Percentual base aplicado</div>
    <div class="v" id="outPct">-</div>
  </div>

  <div class="card">
    <div>Exclusão total estimada (R$)</div>
    <div class="v" id="outTotal">-</div>
  </div>

  <div class="card">
    <div>Economia fiscal estimada (R$)</div>
    <div class="v" id="outEconomia">-</div>
  </div>
</div>

</div>

<script>
function parseNumber(v){
  if(!v) return 0;
  return parseFloat(
    v.replace(/\s/g,"").replace(/\./g,"").replace(",",".")
  ) || 0;
}

function pctFromVariacao(v){
  if(v === "2") return 0.80;
  if(v === "1") return 0.70;
  return 0.60;
}

function calcular(){
  const dispTotal   = parseNumber(document.getElementById("dispTotal").value);
  const dispPatente = parseNumber(document.getElementById("dispPatente").value);
  const variacao    = document.getElementById("variacao").value;
  const aliquota    = parseNumber(document.getElementById("aliquota").value) || 34;

  const pctBase = pctFromVariacao(variacao);

  const exclusaoBase    = dispTotal * pctBase;
  const exclusaoPatente= dispPatente * 0.20;
  const exclusaoTotal  = exclusaoBase + exclusaoPatente;
  const economia       = exclusaoTotal * (aliquota / 100);

  document.getElementById("outPct").textContent = Math.round(pctBase*100) + "%";
  document.getElementById("outTotal").textContent = exclusaoTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
  document.getElementById("outEconomia").textContent = economia.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
}
</script>

</body>
</html>
